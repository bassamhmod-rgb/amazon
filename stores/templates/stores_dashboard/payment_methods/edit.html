{% load static %}

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">

    <!-- Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹ Ù„Ù„Ø±ÙŠØ³Ø¨ÙˆÙ†Ø³ÙŠÙ -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>ØªØ¹Ø¯ÙŠÙ„ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ â€“ {{ store.slug }}</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    <link href="{% static 'css/base.css' %}" rel="stylesheet">

    <style>
        body {
            background:#f6f8fa;
            font-family:"Cairo", sans-serif;
        }

        .page-box {
            background:#fff;
            padding:22px;
            border-radius:14px;
            box-shadow:0 4px 14px rgba(0,0,0,0.08);
            max-width:700px;
            margin:auto;
        }

        .icon-thumb {
            width:60px;
            height:60px;
            object-fit:cover;
            border-radius:6px;
            margin-top:6px;
        }

        /* ===============================
           ğŸ“± Mobile Responsive ONLY
           Ø¨Ø¯ÙˆÙ† Ù„Ù…Ø³ Ø£ÙŠ Ù…Ù†Ø·Ù‚
        ============================== */
        @media (max-width: 768px) {

            .container {
                max-width:100%;
                padding-left:12px;
                padding-right:12px;
            }

            h3 {
                font-size:1.2rem;
                text-align:center;
            }

            a.btn.btn-secondary {
                display:block;
                width:100%;
                text-align:center;
            }

            .page-box {
                padding:16px;
            }

            .form-label {
                font-size:0.9rem;
            }

            .form-control,
            textarea,
            select {
                font-size:0.9rem;
            }

            .form-check-label {
                font-size:0.9rem;
            }

            .icon-thumb {
                width:48px;
                height:48px;
            }

            button.btn-primary {
                width:100%;
                padding:12px;
                font-size:1rem;
            }
        }
    </style>
</head>

<body>

<div class="container mt-4">

    <h3 class="mb-3">
        âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ â€“ <span class="text-primary">{{ store.slug }}</span>
    </h3>

    <a href="{% url 'stores:payment_methods' store.slug %}" class="btn btn-secondary mb-3">
        â† Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹
    </a>

    <div class="page-box">

        <h5 class="mb-3">ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©</h5>

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="mb-3">
                <label class="form-label">Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø³Ù…ÙˆØ­Ø©</label>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="allow_full_payment"
                           {% if store.allow_full_payment %}checked{% endif %}>
                    <label class="form-check-label">ØªØ­ÙˆÙŠÙ„ ÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø¨Ù„Øº</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="allow_partial_payment"
                           {% if store.allow_partial_payment %}checked{% endif %}>
                    <label class="form-check-label">Ø¯ÙØ¹ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº + Ø¨Ø§Ù‚ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØ³Ù„ÙŠÙ…</label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="allow_cash_on_delivery"
                           {% if store.allow_cash_on_delivery %}checked{% endif %}>
                    <label class="form-check-label">Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</label>
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©</label>
                <input type="text" name="name" class="form-control"
                       value="{{ method.name }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Ù†ÙˆØ¹ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©</label>
                <select name="type" class="form-control">
                    <option value="other"  {% if method.type == "other" %}selected{% endif %}>Ø£Ø®Ø±Ù‰</option>
                    <option value="cash"   {% if method.type == "cash" %}selected{% endif %}>ÙƒØ§Ø´</option>
                    <option value="cod"    {% if method.type == "cod" %}selected{% endif %}>Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</option>
                    <option value="bank"   {% if method.type == "bank" %}selected{% endif %}>ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ</option>
                    <option value="wallet" {% if method.type == "wallet" %}selected{% endif %}>Ù…Ø­ÙØ¸Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</option>
                    <option value="hawala" {% if method.type == "hawala" %}selected{% endif %}>Ø­ÙˆØ§Ù„Ø©</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙ„Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                <input type="text" name="recipient_name" class="form-control"
                       value="{{ method.recipient_name }}">
            </div>

            <div class="mb-3">
                <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ / Ø§Ù„Ø­Ø³Ø§Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                <input type="text" name="phone_number" class="form-control"
                       value="{{ method.phone_number }}">
            </div>

            <div class="mb-3">
                <label class="form-label">Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨ / Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                <input type="text" name="account_number" class="form-control"
                       value="{{ method.account_number }}">
            </div>

            <div class="mb-3">
                <label class="form-label">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                <textarea name="additional_info" rows="3"
                          class="form-control">{{ method.additional_info }}</textarea>
            </div>

            <div class="mb-3">
                <label class="form-label">Ø£ÙŠÙ‚ÙˆÙ†Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                <input type="file" name="icon" class="form-control">

                {% if method.icon %}
                    <img src="{{ method.icon.url }}" class="icon-thumb">
                {% endif %}
            </div>

            <div class="mb-3">
                <label class="form-label">Ø§Ù„ØªØ±ØªÙŠØ¨</label>
                <input type="number" name="order" class="form-control"
                       value="{{ method.order }}">
            </div>

            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" name="is_active"
                       {% if method.is_active %}checked{% endif %}>
                <label class="form-check-label">Ù…ÙØ¹Ù‘Ù„</label>
            </div>

            <button class="btn btn-primary px-4">
                ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª
            </button>

        </form>

    </div>
</div>

</body>
</html>
